@code {
    [Parameter, EditorRequired]
    public required RenderFragment Title { get; set; }

    [Parameter, EditorRequired]
    public required RenderFragment Content { get; set; }

    [Parameter]
    public bool Active { get; set; }

    [CascadingParameter]
    public required Tabs Parent { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public IReadOnlyDictionary<string, object> AdditionalAttributes { get; set; } = new Dictionary<string, Object>();

    internal bool IsActive
    { 
        get;
        set
        {
            field = value;
            StateHasChanged();
        }
    }

    public CssBuilder CssClass => new CssBuilder()
        .AddClass("page")
        .AddClass(Parent.Direction.ToCssClass())
        .AddClass("padding")
        .AddClass("active", IsActive)
        .AddClassFromAttributes(AdditionalAttributes);

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await Parent.AddTab(this);
        }
    }
}