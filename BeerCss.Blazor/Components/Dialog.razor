@code {
  private bool isOpen;

  [Parameter, EditorRequired]
  public required RenderFragment Title { get; set; }

  [Parameter, EditorRequired]
  public required RenderFragment Content { get; set; }

  [Parameter]
  public bool Open { get; set; }

  [Parameter]
  public RenderFragment? Nav { get; set; }

  [Parameter(CaptureUnmatchedValues = true)]
  public IReadOnlyDictionary<string, object> AdditionalAttributes { get; set; } = new Dictionary<string, Object>();

  public CssBuilder CssClass => new CssBuilder()
  .AddClass("active", Open)
  .AddClassFromAttributes(AdditionalAttributes);

  [CascadingParameter]
  public DialogProvider? Provider { get; set; }

  protected override void OnParametersSet()
  {
    if (Open && isOpen != Open)
    {
      isOpen = true;
      Provider?.AddDialog(this);
    }
    else if (!Open && isOpen != Open)
    {
      isOpen = false;
      Provider?.RemoveDialog(this);
    }
  }
}