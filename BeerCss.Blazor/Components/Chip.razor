@using Microsoft.AspNetCore.Components.Routing
@code {
    [Parameter]
    public bool Fill { get; set; }

    [Parameter]
    public bool Border { get; set; }

    [Parameter]
    public bool Disabled { get; set; }

    [Parameter]
    public string? Prefix { get; set; }

    [Parameter]
    public string? Suffix { get; set; }

    [Parameter]
    public bool Transparent { get; set; }

    [Parameter]
    public Size Size { get; set; } = Size.Medium;

    [Parameter]
    public Elevation Elevation { get; set; } = Elevation.NoElevate;

    [Parameter]
    public Color Color { get; set; } = Color.Default;
    
    [Parameter, EditorRequired]
    public required RenderFragment ChildContent { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public IReadOnlyDictionary<string, object> AdditionalAttributes { get; set; } = new Dictionary<string, Object>();

    private CssBuilder CssClass => new CssBuilder()
        .AddClass("button")
        .AddClass("fill", Fill)
        .AddClass("border", Border)
        .AddClass("transparent", Transparent)
        .AddClass(Size.ToCssClass())
        .AddClass(Elevation.ToCssClass())
        .AddClass(Color.ToCssClass())
        .AddClassFromAttributes(AdditionalAttributes);

    private Dictionary<string, object> Attributes() 
    {
        Dictionary<string, object> attributes = new(AdditionalAttributes);

        if (Disabled)
        {
            attributes.Add("disabled", "disabled");
        }

        return attributes;
    }
}

<button @attributes="Attributes()" class="@CssClass">
    @if (!string.IsNullOrEmpty(Prefix))
    {
        <i>@Prefix</i>
    }
    <span>@ChildContent</span>
    @if (!string.IsNullOrEmpty(Suffix))
    {
        <i>@Suffix</i>
    }
</button>